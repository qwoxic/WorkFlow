# Техническое задание проекта «Link»

**Link** — это современный веб-мессенджер для мгновенного обмена сообщениями и медиафайлами. Проект ориентирован на создание защищенной и структурированной среды для личной и командной коммуникации.

---

## 1. Основные функциональные требования

### 1.1. Управление доступом и профили пользователей
*   **Регистрация и авторизация:** Система создания учетных записей с уникальными именами пользователей (username) и верификацией email.
*   **Безопасность данных:** Хэширование паролей пользователей (библиотека Werkzeug/Bcrypt) перед сохранением в базу данных.
*   **Персонализация:** Личный кабинет с возможностью загрузки аватара, редактирования статуса («О себе») и обновления учетных данных.
*   **Индикация активности:** Отображение статуса присутствия пользователя на основе времени последнего запроса к серверу.

### 1.2. Система обмена сообщениями
*   **Личные диалоги (Direct Messages):** Реализация приватного чата между двумя пользователями с сохранением полной истории.
*   **Групповые беседы:** Функционал создания комнат для неограниченного числа участников, управление названием и составом группы.
*   **Интерактивность:** Поддержка текстовых сообщений, ссылок, а также отображение времени отправки и автора сообщения.
*   **Хранение данных:** Постоянное хранение истории переписки в БД с возможностью быстрой подгрузки сообщений.

### 1.3. Работа с медиафайлами и хранилищем
*   **Загрузка вложений:** Возможность прикрепления к сообщениям изображений (JPG, PNG) и документов (PDF, DOCX, TXT).
*   **Валидация:** Строгая проверка загружаемых файлов по расширению и размеру для обеспечения безопасности сервера.
*   **Предпросмотр:** Визуальное отображение миниатюр изображений непосредственно в окне диалога.

### 1.4. Поиск и навигация
*   **Поиск контактов:** Нахождение новых пользователей в глобальной базе по логину для начала переписки.
*   **Фильтрация контента:** Поиск конкретных сообщений внутри выбранного чата по ключевым словам.
*   **Менеджер чатов:** Сортировка списка диалогов по дате последнего обновления (самые свежие — сверху).

---

## 2. Архитектура и дизайн

### 2.1. Основные модули (Backend)
*   **Auth Module:** Управление сессиями пользователей, авторизацией и правами доступа.
*   **Chat Engine:** Обработка логики отправки, получения и маршрутизации сообщений.
*   **Storage Manager:** Обработка файловых потоков, сохранение статики и генерация путей доступа.
*   **ORM Interface:** Слой абстракции базы данных для безопасного манипулирования данными без прямых SQL-запросов.

### 2.2. Интерфейс (Frontend на Bootstrap 5)
*   **Sidebar:** Левая панель со списком всех активных диалогов и кнопкой создания новых групп.
*   **Main Chat Window:** Центральное окно переписки с динамической подгрузкой контента.
*   **Responsive Design:** Адаптивная верстка, обеспечивающая корректное отображение на ПК, планшетах и мобильных устройствах.

---

## 3. Технологический стек

*   **Язык программирования:** Python 3
*   **Веб-фреймворк:** Flask
*   **База данных:** SQLite (через SQLAlchemy ORM)
*   **Клиентская часть:** HTML5, CSS3, JavaScript (Fetch API)
*   **CSS-фреймворк:** Bootstrap 5
*   **Хостинг:** PythonAnywhere

---

## 4. Схема базы данных (Модели)

*   **User:** `id`, `username`, `email`, `password_hash`, `avatar_path`, `last_seen`.
*   **Chat:** `id`, `title`, `is_group`, `created_at`.
*   **Message:** `id`, `chat_id`, `sender_id`, `content`, `file_path`, `timestamp`.
*   **ChatMember:** `user_id`, `chat_id` (Связь Many-to-Many).

---
